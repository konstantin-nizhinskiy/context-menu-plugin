{"version":3,"file":"context-menu-plugin.esm.js","sources":["../src/utils.js","../src/debounce.js","../src/menu/debounceHide.js","../src/menu/Item.vue","../src/menu/Search.vue","../src/menu/Menu.vue","../src/menu/index.js","../src/main-menu.js","../src/node-menu.js","../src/connection-menu.js","../src/index.js"],"sourcesContent":["export function deepCopy(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nexport async function createNode(component, { data = {}, meta = {}, x = 0, y = 0 }) {\n    const node = await component.createNode(deepCopy(data));\n\n    node.meta = Object.assign(deepCopy(meta), node.meta);\n    node.position[0] = x;\n    node.position[1] = y;\n    \n    return node;\n}\n\nexport function traverse(items, callback, path = []) {\n    if (typeof items !== 'object') return;\n\n    Object.keys(items).map(key => {\n        if (typeof items[key] === 'function')\n            callback(key, items[key], path)\n        else \n            traverse(items[key], callback, [...path, key])\n    })\n}\n\nexport function fitViewport([x, y], element) {\n    return [\n        Math.min(x, window.innerWidth - element.clientWidth),\n        Math.min(y, window.innerHeight - element.clientHeight)\n    ]\n}\nexport function isFunction(param){\n    return \"function\"===typeof param\n}\n\n","\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === 'object' || type === 'function');\n}\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(options.maxWait || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now());\n  }\n\n  function debounced() {\n    var time = Date.now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","//import { debounce } from 'lodash-es';\n\nimport debounce from \"../debounce\";\n\nexport default (hideMethod) => ({\n    props: { delay: { type: Number, required: true } },\n    data() {\n        return {\n            timeoutHide: () => {}\n        }\n    },\n    methods: {\n        cancelHide() {\n            const hide = this.timeoutHide;\n    \n            if (hide && hide.cancel)\n                this.timeoutHide.cancel();\n        }\n    },\n    mounted() {\n        this.timeoutHide = debounce(this[hideMethod], this.delay);\n    }\n})","<template lang=\"pug\">\n.item(\n  @click=\"onClick($event)\"\n  @mouseover=\"showSubitems()\"\n  @mouseleave=\"timeoutHide()\"\n  :class=\"{ hasSubitems }\"\n) {{item.title}}\n  .subitems(v-show=\"hasSubitems && this.visibleSubitems\")\n    Item(v-for=\"subitem in item.subitems\"\n      :key=\"subitem.title\"\n      :item=\"subitem\"\n      :args=\"args\"\n      :delay=\"delay\"\n      )\n</template>\n\n<script>\nimport hideMixin from './debounceHide'\n\nexport default {\n  name: 'Item',\n  mixins: [hideMixin('hideSubitems')],\n  props: { item: Object, args: Object },\n  data() {\n    return {\n      visibleSubitems: false, \n    }\n  },\n  computed: {\n    hasSubitems() {\n      return this.item.subitems\n    }\n  },\n  methods: {\n    showSubitems() {\n      this.visibleSubitems = true;\n      this.cancelHide();\n    },\n    hideSubitems() {\n      this.visibleSubitems = false;\n    },\n    onClick(e) {\n      e.stopPropagation();\n      \n      if(this.item.onClick)\n        this.item.onClick(this.args);\n      this.$root.$emit('hide');\n    }\n  }\n}\n</script>\n\n\n<style lang=\"sass\" scoped>\n@import '../vars.sass'\n@import '../common.sass'\n\n.item\n  @extend .item\n  &.hasSubitems:after\n    content: 'â–º'\n    position: absolute\n    opacity: 0.6\n    right: 5px\n    top: 5px\n  .subitems\n    position: absolute\n    top: 0\n    left: 100%\n    width: $width\n    .subitem\n      @extend .item\n</style>\n","<template lang=\"pug\">\n.search\n  input(v-model=\"value\")\n</template>\n\n<script>\nexport default {\n  props: ['value', 'search'],\n  watch: {\n    value() {\n      this.$emit('search', this.value);\n    }\n  }\n}\n</script>\n\n\n<style lang=\"sass\" scoped>\n.search\n  input    \n    color: white\n    padding: 1px 8px\n    border: 1px solid white\n    border-radius: 10px\n    font-size: 16px\n    font-family: serif\n    width: 100%\n    box-sizing: border-box\n    background: transparent\n</style>\n","<template lang=\"pug\">\n.context-menu(\n  ref=\"menu\"\n  v-if=\"visible\"\n  v-bind:style=\"style\",\n  @mouseleave='timeoutHide()',\n  @mouseover=\"cancelHide()\"\n  @contextmenu.prevent=\"\"\n  @wheel.stop=\"\"\n)\n  Search(v-if=\"searchBar\", v-model=\"filter\", @search=\"onSearch\")\n  Item(v-for='item in filtered'\n    :key=\"item.title\"\n    :item=\"item\"\n    :args=\"args\"\n    :delay=\"delay / 2\"\n  )\n</template>\n\n<script>\nimport hideMixin from './debounceHide'\nimport Item from './Item.vue';\nimport Search from './Search.vue';\nimport { fitViewport } from '../utils';\n\nexport default {\n  props: { searchBar: Boolean, searchKeep: Function },\n  mixins: [hideMixin('hide')],\n  data() {\n    return {\n      x: 0,\n      y: 0,\n      visible: false,\n      args: {},\n      filter: '',\n      items: [],\n    }\n  },\n  computed: {\n    style() {\n      return {\n        top: this.y+'px', \n        left: this.x+'px'\n      }\n    },\n    filtered() {\n      if(!this.filter) return this.items;\n      const regex = new RegExp(this.filter, 'i');\n      \n      return this.extractLeafs(this.items)\n        .filter(({ title }) => {\n          return this.searchKeep(title) || title.match(regex)\n        });\n    }\n  },\n  methods: {\n    extractLeafs(items) {\n      if(!items) return [];\n      let leafs = [];\n      items.map(item => {\n        if(!item.subitems) leafs.push(item)\n\n        leafs.push(...this.extractLeafs(item.subitems))\n      })\n\n      return leafs;\n    },\n    onSearch(e) {\n      this.filter = e;\n    },\n    show(x, y, args = {}) {\n      this.visible = true;\n      this.x = x;\n      this.y = y;\n      this.args = args;\n  \n      this.cancelHide();\n    },\n    hide() {\n      this.visible = false;\n    },\n    additem(title, onClick, path = []) {\n      let items = this.items;\n      for(let level of path) {\n        let exist = items.find(i => i.title === level);\n\n        if(!exist) {\n          exist = { title: level, subitems: [] };\n          items.push(exist)\n        }\n\n        items = exist.subitems || (exist.subitems = []);\n      }\n\n      items.push({ title, onClick });\n    },\n  },\n  updated() {\n    if(this.$refs.menu) {\n      [this.x, this.y] = fitViewport([this.x, this.y], this.$refs.menu)\n    } \n  },\n  mounted() {\n    this.$root.$on('show', this.show);\n    this.$root.$on('hide', this.hide);\n    this.$root.$on('additem', this.additem);\n  },\n  components: {\n    Item,\n    Search\n  }\n}\n</script>\n\n\n<style lang=\"sass\" scoped>\n@import '../vars.sass'\n@import '../common.sass'\n\n.context-menu\n  left: 0\n  top: 0\n  position: fixed\n  padding: 10px\n  width: $width\n  margin-top: -20px\n  margin-left: -$width/2\n  .search\n    @extend .item\n</style>\n","import Menu from './Menu.vue';\nimport Vue from 'vue';\n\nexport default class {\n    \n    constructor(editor, props, vueComponent) {\n        const el = document.createElement('div');\n\n        editor.view.container.appendChild(el);\n\n        this.menu = new Vue({\n            render: h => h(vueComponent || Menu, { props })\n        }).$mount(el);\n    }\n\n    addItem(...args) {\n        this.menu.$emit('additem', ...args);\n    }\n\n    show(...args) {\n        this.menu.$emit('show', ...args);\n    }\n\n    hide() {\n        this.menu.$emit('hide');\n    }\n}","import { createNode, traverse } from './utils';\nimport Menu from './menu/index';\n\nexport default class MainMenu extends Menu {\n    constructor(editor, props, vueComponent, { items, allocate, rename }) {\n        super(editor, props, vueComponent);\n        \n        const mouse = { x: 0, y: 0 };\n\n        editor.on('mousemove', ({ x, y }) => {\n            mouse.x = x;\n            mouse.y = y;\n        });\n        \n        for(const component of editor.components.values()) {\n            const path = allocate(component);\n    \n            if (Array.isArray(path)) { // add to the menu if path is array\n                this.addItem(rename(component), async () => {\n                    editor.addNode(await createNode(component, mouse));\n                }, path);\n            }\n        }\n    \n        traverse(items, (name, func, path) => this.addItem(name, func, path))\n    }\n}","import Menu from './menu/index';\nimport { createNode, traverse } from './utils';\n\nexport default class NodeMenu extends Menu {\n    constructor(editor, props, vueComponent, nodeItems) {\n        super(editor, props, vueComponent);\n\n        if (nodeItems['Delete'] !== false) {\n            this.addItem('Delete', ({ node }) => editor.removeNode(node));\n        }\n        if (nodeItems['Clone'] !== false) {\n            this.addItem('Clone', async (args) => {\n                const { name, position: [x, y], ...params } = args.node;\n                const component = editor.components.get(name);\n                const node = await createNode(component, { ...params, x: x + 10, y: y + 10 });\n\n                editor.addNode(node);\n            });\n        }\n\n        traverse(nodeItems, (name, func, path) => this.addItem(name, func, path))\n    }\n}\n","import Menu from './menu/index';\nimport {traverse} from './utils';\n\nexport default class ConnectionMenu extends Menu {\n    constructor(editor, props, vueComponent, connectionItems, con) {\n        super(editor, props, vueComponent);\n        if (connectionItems[\"add_pink\"] !== false) {\n            if (connectionItems[\"add_pink\"] && \"function\" != typeof connectionItems[\"add_pink\"]) {\n                if (connectionItems[\"add_pink\"].title && connectionItems[\"add_pink\"].callback) {\n\n                    this.addItem(connectionItems[\"add_pink\"].title, () => connectionItems[\"add_pink\"].callback(editor, con))\n\n                } else if (connectionItems[\"add_pink\"].title) {\n                    if (\"function\" === typeof con.connection.addPink) {\n                        this.addItem(connectionItems[\"add_pink\"].title, () => con.connection.addPink())\n                    }\n                }\n            } else {\n                if (\"function\" === typeof con.connection.addPink) {\n                    this.addItem('Add pink', () => con.connection.addPink())\n                }\n            }\n        }\n        if (connectionItems[\"colors\"] !== false) {\n            let changColor = (color) => {\n                con.connection.data.color = color\n                con.el.querySelector('.connection path').style.setProperty(\"stroke\", color)\n                con.el.classList.remove(\"select-connection\")\n            }\n            if (connectionItems[\"colors\"] && \"function\" != typeof connectionItems[\"colors\"]) {\n                if (connectionItems[\"colors\"].title && connectionItems[\"colors\"].colors && connectionItems[\"colors\"].callback) {\n\n                    for (var key in connectionItems[\"colors\"].colors) {\n                        this.addItem(key, (color => () => connectionItems[\"colors\"].callback(editor, con, color))(connectionItems[\"colors\"].colors[key]), [connectionItems[\"colors\"].title])\n                    }\n                } else if (connectionItems[\"colors\"].title && connectionItems[\"colors\"].colors) {\n                    for (var key in connectionItems[\"colors\"].colors) {\n                        this.addItem(key, (color => () => changColor(color))(connectionItems[\"colors\"].colors[key]), [connectionItems[\"colors\"].title])\n                    }\n                }\n            } else {\n                let colors = {\n                    \"red\": \"red\",\n                    \"black\": \"black\",\n                    \"blue\": \"blue\",\n                    \"yellow\": \"yellow\",\n\n                }\n                for (var key in colors) {\n                    this.addItem(key, (color => () => changColor(color))(colors[key]), [\"Colors\"])\n                }\n            }\n\n        }\n        if (connectionItems[\"delete_connection\"] !== false) {\n            let deleteConnection = () => {\n                editor.removeConnection(con.connection)\n            }\n            if (connectionItems[\"delete_connection\"] && \"function\" != typeof connectionItems[\"delete_connection\"]) {\n                if (connectionItems[\"delete_connection\"].title && connectionItems[\"delete_connection\"].callback) {\n\n                    this.addItem(connectionItems[\"delete_connection\"].title, () => connectionItems[\"delete_connection\"].callback(editor, con))\n\n                } else if (connectionItems[\"delete_connection\"].title) {\n                        this.addItem(connectionItems[\"delete_connection\"].title, () => deleteConnection())\n                }\n            } else {\n                    this.addItem('Delete connection', () => deleteConnection())\n\n            }\n        }\n           traverse(connectionItems, (name, func, path) => this.addItem(name, func, path))\n    }\n}\n","import MainMenu from './main-menu';\nimport NodeMenu from './node-menu';\nimport VueItem from './menu/Item.vue';\nimport VueMenu from './menu/Menu.vue';\nimport VueSearch from './menu/Search.vue';\nimport { isFunction } from './utils';\nimport ConnectionMenu from \"./connection-menu\";\n\nfunction install(editor, {\n    searchBar = true,\n    searchKeep = () => false,\n    delay = 1000,\n    items = {},\n    nodeItems = {},\n    connectionItems = {},\n    allocate = () => [],\n    rename = component => component.name,\n    vueComponent = null\n}) {\n    editor.bind('hidecontextmenu');\n    editor.bind('showcontextmenu');\n\n    let menu = null;\n\n    editor.on('hidecontextmenu', () => {\n        if (menu) menu.hide();\n    });\n\n    editor.on('click contextmenu', () => {\n        editor.trigger('hidecontextmenu');\n    });\n\n    editor.on('contextmenu', ({ e, node,connection }) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!editor.trigger('showcontextmenu', { e, node })) return;\n\n        const [x, y] = [e.clientX, e.clientY];\n\n        if(connection) {\n            menu = new ConnectionMenu(editor, { searchBar: false, delay }, vueComponent,  isFunction(connectionItems) ? connectionItems(node) : connectionItems,connection);\n            menu.show(x, y);\n        } else if(node) {\n            menu = new NodeMenu(editor, { searchBar: false, delay }, vueComponent,  isFunction(nodeItems) ? nodeItems(node) : nodeItems);\n            menu.show(x, y, { node });\n        } else {\n            menu = new MainMenu(editor, { searchBar, searchKeep, delay }, vueComponent, { items, allocate, rename });\n            menu.show(x, y);\n        }\n    });\n}\n\nexport const Menu = VueMenu;\nexport const Item = VueItem;\nexport const Search = VueSearch;\n\nexport default {\n    name: 'context-menu',\n    install\n}\n"],"names":["deepCopy","obj","JSON","parse","stringify","createNode","component","data","meta","x","y","node","Object","assign","position","traverse","items","callback","path","keys","map","key","fitViewport","element","Math","min","window","innerWidth","clientWidth","innerHeight","clientHeight","isFunction","param","isObject","value","type","FUNC_ERROR_TEXT","nativeMax","max","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","Date","now","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","arguments","hideMethod","props","delay","Number","required","timeoutHide","methods","cancelHide","hide","mounted","editor","vueComponent","el","document","createElement","view","container","appendChild","menu","Vue","render","h","Menu","$mount","$emit","MainMenu","allocate","rename","mouse","on","Array","isArray","addItem","addNode","components","values","name","NodeMenu","nodeItems","removeNode","params","get","ConnectionMenu","connectionItems","con","title","connection","addPink","changColor","color","querySelector","style","setProperty","classList","remove","colors","deleteConnection","removeConnection","install","searchBar","searchKeep","bind","trigger","e","preventDefault","stopPropagation","clientX","clientY","show","VueMenu","Item","VueItem","Search","VueSearch"],"mappings":"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"}