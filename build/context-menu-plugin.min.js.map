{"version":3,"file":"context-menu-plugin.min.js","sources":["../src/utils.js","../src/debounce.js","../src/menu/debounceHide.js","../src/menu/index.js","../src/main-menu.js","../src/node-menu.js","../src/connection-menu.js","../src/index.js"],"sourcesContent":["export function deepCopy(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nexport async function createNode(component, { data = {}, meta = {}, x = 0, y = 0 }) {\n    const node = await component.createNode(deepCopy(data));\n\n    node.meta = Object.assign(deepCopy(meta), node.meta);\n    node.position[0] = x;\n    node.position[1] = y;\n    \n    return node;\n}\n\nexport function traverse(items, callback, path = []) {\n    if (typeof items !== 'object') return;\n\n    Object.keys(items).map(key => {\n        if (typeof items[key] === 'function')\n            callback(key, items[key], path)\n        else \n            traverse(items[key], callback, [...path, key])\n    })\n}\n\nexport function fitViewport([x, y], element) {\n    return [\n        Math.min(x, window.innerWidth - element.clientWidth),\n        Math.min(y, window.innerHeight - element.clientHeight)\n    ]\n}\nexport function isFunction(param){\n    return \"function\"===typeof param\n}\n\n","\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === 'object' || type === 'function');\n}\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(options.maxWait || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now());\n  }\n\n  function debounced() {\n    var time = Date.now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","//import { debounce } from 'lodash-es';\n\nimport debounce from \"../debounce\";\n\nexport default (hideMethod) => ({\n    props: { delay: { type: Number, required: true } },\n    data() {\n        return {\n            timeoutHide: () => {}\n        }\n    },\n    methods: {\n        cancelHide() {\n            const hide = this.timeoutHide;\n    \n            if (hide && hide.cancel)\n                this.timeoutHide.cancel();\n        }\n    },\n    mounted() {\n        this.timeoutHide = debounce(this[hideMethod], this.delay);\n    }\n})","import Menu from './Menu.vue';\nimport Vue from 'vue';\n\nexport default class {\n    \n    constructor(editor, props, vueComponent) {\n        const el = document.createElement('div');\n\n        editor.view.container.appendChild(el);\n\n        this.menu = new Vue({\n            render: h => h(vueComponent || Menu, { props })\n        }).$mount(el);\n    }\n\n    addItem(...args) {\n        this.menu.$emit('additem', ...args);\n    }\n\n    show(...args) {\n        this.menu.$emit('show', ...args);\n    }\n\n    hide() {\n        this.menu.$emit('hide');\n    }\n}","import { createNode, traverse } from './utils';\nimport Menu from './menu/index';\n\nexport default class MainMenu extends Menu {\n    constructor(editor, props, vueComponent, { items, allocate, rename }) {\n        super(editor, props, vueComponent);\n        \n        const mouse = { x: 0, y: 0 };\n\n        editor.on('mousemove', ({ x, y }) => {\n            mouse.x = x;\n            mouse.y = y;\n        });\n        \n        for(const component of editor.components.values()) {\n            const path = allocate(component);\n    \n            if (Array.isArray(path)) { // add to the menu if path is array\n                this.addItem(rename(component), async () => {\n                    editor.addNode(await createNode(component, mouse));\n                }, path);\n            }\n        }\n    \n        traverse(items, (name, func, path) => this.addItem(name, func, path))\n    }\n}","import Menu from './menu/index';\nimport { createNode, traverse } from './utils';\n\nexport default class NodeMenu extends Menu {\n    constructor(editor, props, vueComponent, nodeItems) {\n        super(editor, props, vueComponent);\n\n        if (nodeItems['Delete'] !== false) {\n            this.addItem('Delete', ({ node }) => editor.removeNode(node));\n        }\n        if (nodeItems['Clone'] !== false) {\n            this.addItem('Clone', async (args) => {\n                const { name, position: [x, y], ...params } = args.node;\n                const component = editor.components.get(name);\n                const node = await createNode(component, { ...params, x: x + 10, y: y + 10 });\n\n                editor.addNode(node);\n            });\n        }\n\n        traverse(nodeItems, (name, func, path) => this.addItem(name, func, path))\n    }\n}\n","import Menu from './menu/index';\nimport {traverse} from './utils';\n\nexport default class ConnectionMenu extends Menu {\n    constructor(editor, props, vueComponent, connectionItems, con) {\n        super(editor, props, vueComponent);\n        if (connectionItems[\"add_pink\"] !== false) {\n            if (connectionItems[\"add_pink\"] && \"function\" != typeof connectionItems[\"add_pink\"]) {\n                if (connectionItems[\"add_pink\"].title && connectionItems[\"add_pink\"].callback) {\n\n                    this.addItem(connectionItems[\"add_pink\"].title, () => connectionItems[\"add_pink\"].callback(editor, con))\n\n                } else if (connectionItems[\"add_pink\"].title) {\n                    if (\"function\" === typeof con.connection.addPink) {\n                        this.addItem(connectionItems[\"add_pink\"].title, () => con.connection.addPink())\n                    }\n                }\n            } else {\n                if (\"function\" === typeof con.connection.addPink) {\n                    this.addItem('Add pink', () => con.connection.addPink())\n                }\n            }\n        }\n        if (connectionItems[\"colors\"] !== false) {\n            let changColor = (color) => {\n                con.connection.data.color = color\n                con.el.querySelector('.connection path').style.setProperty(\"stroke\", color)\n                con.el.classList.remove(\"select-connection\")\n            }\n            if (connectionItems[\"colors\"] && \"function\" != typeof connectionItems[\"colors\"]) {\n                if (connectionItems[\"colors\"].title && connectionItems[\"colors\"].colors && connectionItems[\"colors\"].callback) {\n\n                    for (var key in connectionItems[\"colors\"].colors) {\n                        this.addItem(key, (color => () => connectionItems[\"colors\"].callback(editor, con, color))(connectionItems[\"colors\"].colors[key]), [connectionItems[\"colors\"].title])\n                    }\n                } else if (connectionItems[\"colors\"].title && connectionItems[\"colors\"].colors) {\n                    for (var key in connectionItems[\"colors\"].colors) {\n                        this.addItem(key, (color => () => changColor(color))(connectionItems[\"colors\"].colors[key]), [connectionItems[\"colors\"].title])\n                    }\n                }\n            } else {\n                let colors = {\n                    \"red\": \"red\",\n                    \"black\": \"black\",\n                    \"blue\": \"blue\",\n                    \"yellow\": \"yellow\",\n\n                }\n                for (var key in colors) {\n                    this.addItem(key, (color => () => changColor(color))(colors[key]), [\"Colors\"])\n                }\n            }\n\n        }\n        if (connectionItems[\"delete_connection\"] !== false) {\n            let deleteConnection = () => {\n                editor.removeConnection(con.connection)\n            }\n            if (connectionItems[\"delete_connection\"] && \"function\" != typeof connectionItems[\"delete_connection\"]) {\n                if (connectionItems[\"delete_connection\"].title && connectionItems[\"delete_connection\"].callback) {\n\n                    this.addItem(connectionItems[\"delete_connection\"].title, () => connectionItems[\"delete_connection\"].callback(editor, con))\n\n                } else if (connectionItems[\"delete_connection\"].title) {\n                        this.addItem(connectionItems[\"delete_connection\"].title, () => deleteConnection())\n                }\n            } else {\n                    this.addItem('Delete connection', () => deleteConnection())\n\n            }\n        }\n           traverse(connectionItems, (name, func, path) => this.addItem(name, func, path))\n    }\n}\n","import MainMenu from './main-menu';\nimport NodeMenu from './node-menu';\nimport VueItem from './menu/Item.vue';\nimport VueMenu from './menu/Menu.vue';\nimport VueSearch from './menu/Search.vue';\nimport { isFunction } from './utils';\nimport ConnectionMenu from \"./connection-menu\";\n\nfunction install(editor, {\n    searchBar = true,\n    searchKeep = () => false,\n    delay = 1000,\n    items = {},\n    nodeItems = {},\n    connectionItems = {},\n    allocate = () => [],\n    rename = component => component.name,\n    vueComponent = null\n}) {\n    editor.bind('hidecontextmenu');\n    editor.bind('showcontextmenu');\n\n    let menu = null;\n\n    editor.on('hidecontextmenu', () => {\n        if (menu) menu.hide();\n    });\n\n    editor.on('click contextmenu', () => {\n        editor.trigger('hidecontextmenu');\n    });\n\n    editor.on('contextmenu', ({ e, node,connection }) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!editor.trigger('showcontextmenu', { e, node })) return;\n\n        const [x, y] = [e.clientX, e.clientY];\n\n        if(connection) {\n            menu = new ConnectionMenu(editor, { searchBar: false, delay }, vueComponent,  isFunction(connectionItems) ? connectionItems(node) : connectionItems,connection);\n            menu.show(x, y);\n        } else if(node) {\n            menu = new NodeMenu(editor, { searchBar: false, delay }, vueComponent,  isFunction(nodeItems) ? nodeItems(node) : nodeItems);\n            menu.show(x, y, { node });\n        } else {\n            menu = new MainMenu(editor, { searchBar, searchKeep, delay }, vueComponent, { items, allocate, rename });\n            menu.show(x, y);\n        }\n    });\n}\n\nexport const Menu = VueMenu;\nexport const Item = VueItem;\nexport const Search = VueSearch;\n\nexport default {\n    name: 'context-menu',\n    install\n}\n"],"names":["deepCopy","obj","JSON","parse","stringify","createNode","component","data","meta","x","y","node","Object","assign","position","traverse","items","callback","path","_typeof","keys","map","key","isFunction","param","nativeMax","Math","max","nativeMin","min","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","value","type","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","timeWaiting","Date","now","trailingEdge","setTimeout","debounced","isInvoking","arguments","this","clearTimeout","cancel","flush","hideMethod","props","delay","Number","required","timeoutHide","methods","cancelHide","hide","mounted","element","window","innerWidth","clientWidth","innerHeight","clientHeight","editor","vueComponent","el","document","createElement","view","container","appendChild","menu","Vue","render","h","Menu","$mount","$emit","MainMenu","allocate","rename","mouse","on","Array","isArray","addItem","addNode","components","values","name","_this","NodeMenu","nodeItems","removeNode","params","get","ConnectionMenu","connectionItems","con","title","connection","addPink","changColor","color","querySelector","style","setProperty","classList","remove","colors","deleteConnection","removeConnection","VueMenu","Item","VueItem","Search","VueSearch","install","searchBar","searchKeep","bind","trigger","e","preventDefault","stopPropagation","clientX","clientY","show"],"mappings":"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"}